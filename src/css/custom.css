/**
 * Global CSS for Vietnamese Aiken Documentation Site
 * Uses Infima framework (bundled with Docusaurus) + Tailwind CSS
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   ACCESSIBILITY: Screen Reader Only Utility
   ============================================ */
.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border-width: 0;
}

.sr-only.focus\:not-sr-only:focus {
	position: static;
	width: auto;
	height: auto;
	padding: inherit;
	margin: inherit;
	overflow: visible;
	clip: auto;
	white-space: normal;
}

/* ============================================
   ACCESSIBILITY: Focus Indicators
   ============================================ */
a:focus-visible,
button:focus-visible,
[role="button"]:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
	outline: 3px solid #5CE1E6;
	outline-offset: 2px;
}

.landing-page-wrapper a:focus-visible {
	outline: 4px solid #5CE1E6;
	outline-offset: 3px;
	box-shadow: 0 0 0 6px rgba(92, 225, 230, 0.3);
}

/* ============================================
   ACCESSIBILITY: Reduced Motion Support
   ============================================ */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}

	.particle,
	.animate-float,
	.animate-cloud-slow,
	.animate-cloud-medium,
	.animate-cloud-fast,
	.animate-train,
	.animate-bounce,
	.animate-pulse-slow {
		animation: none !important;
	}
}

/* ============================================
   Landing Page Animations
   ============================================ */
.pixelated {
	image-rendering: pixelated;
}

@keyframes float {
	0%, 100% { transform: translateY(0); }
	50% { transform: translateY(-10px); }
}

.animate-float {
	animation: float 4s ease-in-out infinite;
}

@keyframes cloud-move {
	0% { transform: translateX(-100%); }
	100% { transform: translateX(100vw); }
}

.animate-cloud-slow { animation: cloud-move 60s linear infinite; }
.animate-cloud-medium { animation: cloud-move 40s linear infinite; }
.animate-cloud-fast { animation: cloud-move 25s linear infinite; }

@keyframes train-move {
	0% { transform: translateX(-100%); }
	100% { transform: translateX(100%); }
}

.animate-train {
	animation: train-move 15s linear infinite;
}

/* ============================================
   Landing Page Visual Helpers
   ============================================ */
.pixel-shadow { box-shadow: 4px 4px 0px 0px rgba(0, 0, 0, 0.2); }
.pixel-shadow-sm { box-shadow: 2px 2px 0px 0px rgba(0, 0, 0, 0.2); }
.pixel-border { border: 2px solid white; }
.text-shadow-retro { text-shadow: 4px 4px 0px #034a52; }

.landing-page-wrapper {
	font-family: Arial, Helvetica, sans-serif;
	background-color: var(--bg-primary);
	color: var(--text-heading);
	overflow-x: hidden;
}

.landing-page-wrapper h1,
.landing-page-wrapper h2,
.landing-page-wrapper h3,
.landing-page-wrapper h4 {
	font-family: var(--ifm-font-family-base);
}

/* ============================================
   Infima Variable Overrides
   ============================================ */
:root {
	--ifm-color-primary: #2e8555;
	--ifm-color-primary-dark: #29784c;
	--ifm-color-primary-darker: #277148;
	--ifm-color-primary-darkest: #205d3b;
	--ifm-color-primary-light: #33925d;
	--ifm-color-primary-lighter: #359962;
	--ifm-color-primary-lightest: #3cad6e;
	--ifm-code-font-size: 14px;
	--docusaurus-highlighted-code-line-bg: rgba(0, 0, 0, 0.1);
	--ifm-navbar-background-color: #ffffff;
	--ifm-font-family-base: Arial, Helvetica, sans-serif;
	--ifm-font-family-monospace: 'JetBrains Mono', 'Fira Code', 'Source Code Pro',
		'SF Mono', Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;

	/* Landing page theme colors */
	--bg-primary: #0F1B2A;
	--bg-secondary: #112030;
	--bg-card: #13253A;
	--color-cyan: #5CE1E6;
	--color-cyan-dark: #2BBAC0;
	--color-cyan-light: #A3DCE2;
	--color-floor: #1A2738;
	--text-heading: #FFFFFF;
	--text-body: #DDE6ED;
	--landing-background: var(--bg-primary);
	--landing-surface: var(--bg-secondary);
	--landing-primary: var(--color-cyan);
}

[data-theme="dark"] {
	--ifm-color-primary: #25c2a0;
	--ifm-color-primary-dark: #21af90;
	--ifm-color-primary-darker: #1fa588;
	--ifm-color-primary-darkest: #1a8870;
	--ifm-color-primary-light: #29d5b0;
	--ifm-color-primary-lighter: #32d8b4;
	--ifm-color-primary-lightest: #4fddbf;
	--docusaurus-highlighted-code-line-bg: rgba(0, 0, 0, 0.3);
	--ifm-font-family-monospace: 'JetBrains Mono', 'Fira Code', 'Source Code Pro',
		'SF Mono', Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
}

/* ============================================
   ASCII Diagram Rendering Fixes
   ============================================ */
pre code {
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	text-rendering: optimizeLegibility;
	font-variant-ligatures: none;
	font-feature-settings: "liga" 0, "calt" 0;
}

/* Ensure consistent character width in code blocks */
.prism-code,
pre[class*="language-"] {
	font-variant-ligatures: none;
	-webkit-font-feature-settings: "liga" 0, "calt" 0;
	font-feature-settings: "liga" 0, "calt" 0;
}

/* ============================================
   Docusaurus Navbar Customization
   ============================================ */
.navbar {
	background-color: var(--landing-background) !important;
	border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.navbar__title,
.navbar__item,
.navbar__link {
	color: #e5e5e5 !important;
}

.navbar__link:hover,
.navbar__item:hover {
	color: var(--landing-primary) !important;
}

[data-theme="dark"] .navbar {
	background-color: var(--landing-background) !important;
}

/* Sidebar toggle styling */
.sidebar-toggle-wrapper {
	padding: 8px 12px;
	margin-bottom: 8px;
	border-bottom: 1px solid var(--ifm-toc-border-color);
	display: flex !important;
	justify-content: flex-end;
	align-items: center;
	flex-shrink: 0;
}

.navbar-sidebar-toggle {
	display: flex !important;
	align-items: center;
	margin-right: 8px;
	visibility: visible !important;
	opacity: 1 !important;
	position: relative;
	z-index: 1000;
}

.navbar-sidebar-toggle button {
	display: flex !important;
	visibility: visible !important;
	opacity: 1 !important;
}

/* ============================================
   Landing Page Styles
   ============================================ */
.landing-page {
	min-height: 100vh;
	background-color: var(--bg-primary);
	color: var(--text-heading);
	font-family: var(--ifm-font-family-base);
}

.gradient-text {
	background: linear-gradient(to right, var(--landing-primary), var(--color-cyan-dark));
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
}

/* Custom scrollbar */
.landing-page::-webkit-scrollbar { width: 8px; }
.landing-page::-webkit-scrollbar-track { background: var(--landing-background); }
.landing-page::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
.landing-page::-webkit-scrollbar-thumb:hover { background: #555; }

/* ============================================
   Particle Effects
   ============================================ */
@keyframes particle-float {
	0% {
		transform: translateY(100vh) translateX(0) scale(0);
		opacity: 0;
	}
	10% { opacity: 1; }
	90% { opacity: 1; }
	100% {
		transform: translateY(-100vh) translateX(100px) scale(1);
		opacity: 0;
	}
}

.particle {
	position: absolute;
	width: 4px;
	height: 4px;
	background: rgba(92, 225, 230, 0.6);
	border-radius: 2px;
	animation: particle-float 15s infinite ease-in;
}

.particle-1 { left: 10%; animation-delay: 0s; animation-duration: 12s; }
.particle-2 { left: 25%; animation-delay: 2s; animation-duration: 14s; background: rgba(198, 168, 255, 0.6); }
.particle-3 { left: 50%; animation-delay: 4s; animation-duration: 16s; background: rgba(255, 216, 168, 0.6); }
.particle-4 { left: 70%; animation-delay: 1s; animation-duration: 13s; }
.particle-5 { left: 85%; animation-delay: 3s; animation-duration: 15s; background: rgba(198, 168, 255, 0.6); }
.particle-6 { left: 40%; animation-delay: 5s; animation-duration: 17s; }

/* ============================================
   Pixel Character Decorations
   ============================================ */
.pixel-character-left {
	background: linear-gradient(to bottom,
		transparent 0%, transparent 25%,
		var(--color-cyan) 25%, var(--color-cyan) 50%,
		var(--bg-card) 50%, var(--bg-card) 100%);
	box-shadow: 0 0 0 2px #fff, 4px 0 0 2px #fff, -4px 0 0 2px #fff;
}

.pixel-character-right {
	background: linear-gradient(to bottom,
		transparent 0%, transparent 25%,
		var(--color-cyan-light) 25%, var(--color-cyan-light) 50%,
		var(--bg-card) 50%, var(--bg-card) 100%);
	box-shadow: 0 0 0 2px #fff, 4px 0 0 2px #fff, -4px 0 0 2px #fff;
}
